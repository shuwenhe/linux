用gdisk分区工具把固态硬盘nvme0n1分区成2个分区第一个nvme0np1为efi格式并挂在到/boot/efi第二个为nvme0np2为ext4格式并挂在到/
1.进入gdisk分区工具
sudo gdisk /dev/nvme0n1
2.创建 EFI 分区（nvme0n1p1）
按n键来创建一个新分区
在gdisk交互界面中，按n键来创建一个新分区。
它会提示你输入分区号，一般按回车键接受默认值（通常是 1）。
对于起始扇区，通常也按回车键接受默认值。
对于结束扇区，你可以通过输入+大小的方式来指定分区大小。对于 EFI 分区，一般 100 - 500MB 就足够了，比如输入+200M来创建一个 200MB 的 EFI 分区。
分区创建好后，按t键来设置分区类型。它会要求你输入分区号（这里是 1），然后输入分区类型代码。
对于 EFI 分区，类型代码是EF00。
此时，第一个分区（nvme0n1p1）已经创建为 EFI 分区。
3.创建根分区（nvme0n1p2）
再次按n键来创建第二个新分区。
分区号会自动递增（这里应该是 2），起始扇区按默认值，结束扇区可以根据你的需求来设置。如果想把剩余的空间都分配给这个分区，直接按回车键即可。
这个分区创建好后，按t键设置分区类型。输入分区号（这里是 2），对于根分区（/），
我们希望格式化为ext4，在分区类型代码这里，8300是 Linux 文件系统的一种通用代码，虽然不是专门针对ext4，但可以用于后续格式化ext4操作。
现在，第二个分区（nvme0n1p2）已经创建为用于根分区（/）的分区。
4.保存分区表并退出gdisk
完成分区创建和设置后，按w键来保存分区表并退出gdisk工具。这一步会将分区设置写入磁盘，要确保分区设置正确后再执行此操作。
5.格式化分区
分区创建好后，需要对分区进行格式化。
对于 EFI 分区（/dev/nvme0n1p1），使用以下命令：
sudo mkfs.vfat -F32 /dev/nvme0n1p1
因为 EFI 分区通常使用vfat文件系统格式，-F32参数表示创建一个 32 位的vfat文件系统。
对于根分区（/dev/nvme0n1p2），使用以下命令进行格式化：
sudo mkfs.ext4 /dev/nvme0n1p2
这将把分区格式化为ext4文件系统。
6.挂载分区
创建挂载点：
sudo mkdir /boot/efi
sudo mkdir /mnt/root
挂载 EFI 分区：
sudo mount /dev/nvme0n1p1 /boot/efi
挂载根分区（这里是临时挂载用于后续安装系统等操作）：
sudo mount /dev/nvme0n1p2 /mnt/root
